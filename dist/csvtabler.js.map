{"version":3,"file":"csvtabler.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAmB,UAAID,IAEvBD,EAAgB,UAAIC,GACrB,CATD,CASGK,MAAM,KACT,O,UCVA,MAAMC,EACF,WAAAC,CAAYC,GACRH,KAAKG,YAAcA,CACvB,CAEA,KAAAC,EAAM,eAACC,EAAiB,GAAE,kBAAEC,GAAoB,EAAK,iBAAEC,EAAiB,GAAE,kBAAEC,EAAkB,GAAE,gBAAEC,GAAgB,EAAK,YAAEC,EAAY,UACjI,IAAIN,EAAQ,UACZ,MAAMO,EAAOX,KAAKG,YAAYS,MAAM,MAEpC,GAAGH,EACC,MAAO,qCAAqCC,MAAgBC,EAAKE,OAAQ,WAI7E,IADA,IAAIC,EAAyB,GACrBC,EAAY,EAAGA,EAAYJ,EAAKE,OAAQE,IAAa,CAEzDX,GAAS,OACT,MAAMY,EAFML,EAAKI,GAEEH,MAAM,KACzB,IAAI,IAAIK,EAAe,EAAGA,EAAeD,EAAOH,OAAQI,IAAe,CACnE,MAAMC,EAAQF,EAAOC,GAErB,IAAIE,EAAM,KACK,IAAZJ,IACCI,EAAM,KACHd,EAAee,SAASF,IACvBJ,EAAuBO,KAAKJ,IAIlB,IAAfA,GAAoBX,IAInBF,GAAS,IAAIe,KAFEZ,GAAoBQ,EAAY,EAAIR,EAAmB,IAAM,KAD7DQ,EAAY,EAAIA,EAAY,KAE3BP,GAAqBO,EAAY,EAAIP,EAAoB,OACvBW,MAGlDL,EAAuBM,SAASH,KAChCb,GAAS,IAAIe,KAAOD,MAAUC,KAEtC,CACAf,GAAS,OACb,CAEA,OADAA,EAAS,UAEb,EAsBJP,EAAOD,QAAU,CACbK,aAAaA,EACbqB,gBArBJ,SAAyBC,EAAmBC,EAAQC,GAChDC,EAAEC,KAAK,CACLC,IAAK,kBAAoBJ,EACzBK,SAAU,OACVC,WAAY,SAASC,GACnBA,EAAMC,iBAAiB,+BACzB,EACAC,QAAS,SAASC,GAChB,MAAMC,EAAoBD,EAAKE,QAAQ,UAAW,SAASC,WAAW,IAAK,IAC3EC,WAAa,IAAIrC,EAAakC,GAAmB/B,MAAMqB,GACvDC,EAAE,IAAMH,GAAmBgB,KAAKD,WAClC,EACAE,MAAO,SAASN,GACdR,EAAE,IAAMH,GAAmBgB,KAAK,yCAClC,GAEJ,E,GC9DEE,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAahD,QAGrB,IAAIC,EAAS4C,EAAyBE,GAAY,CAGjD/C,QAAS,CAAC,GAOX,OAHAkD,EAAoBH,GAAU9C,EAAQA,EAAOD,QAAS8C,GAG/C7C,EAAOD,OACf,CCnB0B8C,CAAoB,I,MDF1CD,C","sources":["webpack://csvtabler/webpack/universalModuleDefinition","webpack://csvtabler/./src/index.js","webpack://csvtabler/webpack/bootstrap","webpack://csvtabler/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"csvtabler\"] = factory();\n\telse\n\t\troot[\"csvtabler\"] = factory();\n})(this, () => {\nreturn ","class CSVConverter {\n    constructor(csv_content) {\n        this.csv_content = csv_content\n    }\n\n    table({ignore_columns = [], include_numbering = false, numbering_prefix='', numbering_postfix='', show_total_only=false, total_title='Total'}){\n        var table = '<table>'\n        const rows = this.csv_content.split('\\n')\n\n        if(show_total_only){\n            return `<span class=\"total_csv_displayer\">${total_title}: ${rows.length -1}</span>`\n        }\n\n        var ignored_column_indices = []\n        for(var row_index = 0; row_index < rows.length; row_index++) {\n            const row = rows[row_index]\n            table += '<tr>'\n            const fields = row.split(';')\n            for(var column_index = 0; column_index < fields.length; column_index++){\n                const field = fields[column_index]\n                \n                var tag = 'td'\n                if(row_index===0) {\n                    tag = 'th'\n                    if(ignore_columns.includes(field)){\n                        ignored_column_indices.push(column_index)\n                    }\n                }\n                // add row numbering with prefix except for the header row\n                if(column_index===0 && include_numbering){\n                    const number = row_index > 0 ? row_index : ''\n                    const prefix = numbering_prefix && row_index > 0 ? numbering_prefix + ' ' : ''\n                    const postfix = numbering_postfix && row_index > 0 ? numbering_postfix : ''\n                    table += `<${tag}>${prefix}${number}${postfix}</${tag}>`\n                }\n                // add column entry if not on ignore list\n                if(!ignored_column_indices.includes(column_index)){\n                    table += `<${tag}>${field}</${tag}>`\n                }\n            }\n            table += '</tr>'\n        }\n        table += '</table>'\n        return table\n    }\n}\n\nfunction loadFileAsTable(targetContainerId, fileId, settings) {\n    $.ajax({\n      url: \"fileservlet?id=\" + fileId,\n      dataType: \"text\",\n      beforeSend: function(jqXHR) {\n        jqXHR.overrideMimeType('text/html;charset=iso-8859-1');\n      },\n      success: function(data) {\n        const clubdesklist_data = data.replace(/[^\"]\\n/g, '<br/>').replaceAll('\\\"','');\n        table_data = new CSVConverter(clubdesklist_data).table(settings);\n        $('#' + targetContainerId).html(table_data);\n      },\n      error: function(data) {\n        $('#' + targetContainerId).html('<div>Fehler beim laden der Daten</div>');\n      }\n    });\n  }\n\n\nmodule.exports = {\n    CSVConverter:CSVConverter,\n    loadFileAsTable\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(44);\n"],"names":["root","factory","exports","module","define","amd","this","CSVConverter","constructor","csv_content","table","ignore_columns","include_numbering","numbering_prefix","numbering_postfix","show_total_only","total_title","rows","split","length","ignored_column_indices","row_index","fields","column_index","field","tag","includes","push","loadFileAsTable","targetContainerId","fileId","settings","$","ajax","url","dataType","beforeSend","jqXHR","overrideMimeType","success","data","clubdesklist_data","replace","replaceAll","table_data","html","error","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__"],"sourceRoot":""}